spring.messages.encoding=UTF-8
# ==========================
# App
# ==========================
spring.application.name=postura

# ==========================
# MySQL
# ?? ??? + ??? ?? ??? override
# ==========================
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/postura}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:20011109}

# ==========================
# JPA
# ==========================
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# ==========================
# JWT
# ?? ??? ?? ? ????? ?? ?? JWT_SECRET?? ???
# ==========================
jwt.secret=${JWT_SECRET:local-jwt-secret-key}
jwt.access-token-expiration-in-milliseconds=1800000
jwt.refresh-token-expiration-in-milliseconds=604800000

# ==========================
# Server
# ==========================
server.port=8080

# ==========================
# Redis (??? local / ??? ENV)
# ==========================
spring.data.redis.host=${SPRING_REDIS_HOST:master.postura.7o1tpz.apse2.cache.amazonaws.com}
spring.data.redis.port=${SPRING_REDIS_PORT:6379}

# ===============================================
# OAuth ?? (OAuthService @Value ??? ?? ?? ??)
# ? API ??? ???? ?? ?? ?
# ===============================================

# --- Kakao ?? (OAuthService?? @Value? ??) ---
oauth.kakao.client-id=${KAKAO_CLIENT_ID}
oauth.kakao.redirect-uri=https://api.taba-postura.com:8080/login/oauth2/code/kakao

# --- Google ?? (OAuthService?? @Value? ??) ---
oauth.google.client-id=${GOOGLE_CLIENT_ID}
oauth.google.client-secret=${GOOGLE_CLIENT_SECRET}
oauth.google.redirect-uri=https://api.taba-postura.com:8080/login/oauth2/code/google


# ===============================================
# OAuth 2.0 Client ?? (Spring Security? ?? ?? ??)
# ? API ??? ???? ?? ?? ?
# ===============================================

spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.google.redirect-uri=https://api.taba-postura.com:8080/login/oauth2/code/google
spring.security.oauth2.client.registration.google.scope=email,profile

spring.security.oauth2.client.registration.kakao.client-id=${KAKAO_CLIENT_ID}
spring.security.oauth2.client.registration.kakao.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.kakao.redirect-uri=https://api.taba-postura.com:8080/login/oauth2/code/kakao

spring.security.oauth2.client.provider.kakao.authorization-uri=https://kauth.kakao.com/oauth/authorize
spring.security.oauth2.client.provider.kakao.token-uri=https://kauth.kakao.com/oauth/token
spring.security.oauth2.client.provider.kakao.user-info-uri=https://kapi.kakao.com/v2/user/me


# ===============================================
# Custom ??
# ? ?????(?????) ???? ??? ?? ?
# ===============================================

# --- OAuth2 ?? ???? ??? ?? ?????? ????? ?? ---
app.oauth2.authorized-redirect-uri=https://taba-postura.com/oauth/redirect